# Maintainer: Antoine Impromptux <impromptux (a) mailo dot com>
pkgname=youtubedl-gui
_pkgname=ytdl-gui
pkgver=4.1
pkgrel=1
arch=('x86_64'
      'aarch64')
license=('GPL3')
pkgdesc="Download videos and audio from various sources(1000+) including YouTube."
source=("https://codeberg.org/impromptux/ytdl-gui/archive/v4.4.zip")
sha256sums=('ac3f34ebc1c106a05d2c29c008093c417f67057030b70010fe961981519c5148')
provides=("youtubedl-gui")
conflicts=("youtubedl-gui")
makedepends=("cmake")
depends=("yt-dlp"
         "qt6-base"
         "ffmpeg"
         "hicolor-icon-theme")

optdepends=("breeze: Better looking theme than default one"
          "libnotify: Notification at the end of download"
)

build() {
        cd ${_pkgname}
        cmake -B build
        make -C build -j`nproc`
}

package() {
        cd ${_pkgname}
        make -C build DESTDIR="$pkgdir/" install
}
